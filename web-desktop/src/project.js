require=function t(e,o,i){function n(c,r){if(!o[c]){if(!e[c]){var a="function"==typeof require&&require;if(!r&&a)return a(c,!0);if(s)return s(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var h=o[c]={exports:{}};e[c][0].call(h.exports,function(t){var o=e[c][1][t];return n(o?o:t)},h,h.exports,t,e,o,i)}return o[c].exports}for(var s="function"==typeof require&&require,c=0;c<i.length;c++)n(i[c]);return n}({"bad-soap-script":[function(t,e,o){"use strict";cc._RFpush(e,"f05ef3R5NFLX47e1oiz1hJ8","bad-soap-script"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.node.on("touch",this.onTouch,this)},onTouch:function(){cc.find("Canvas").emit("hit-bad-soap")}}),cc._RFpop()},{}],"break-item-script":[function(t,e,o){"use strict";cc._RFpush(e,"4fe4dFQ/KtKsb/6B5ZetLZo","break-item-script"),cc.Class({"extends":cc.Component,properties:{_g:null,breakDrag:.3,_speed:null,_solving:!1},init:function(t,e){this.node.color=t.node.color,this._g=t._g;var o=t.node.getComponent(cc.Sprite),i=this.node.getComponent(cc.Sprite);i.fillStart=e,i.spriteFrame=o.spriteFrame,this.node.parent=t.node.parent,this.node.position=t.node.position,this._speed=cc.pMult(cc.pForAngle((360*e-180)*Math.PI/180),t._speed.mag()*this.breakDrag),this._speed=cc.v2(this._speed.y,-this._speed.x)},update:function(t){this._speed=cc.pAdd(this._speed,cc.v2(0,this._g*t)),this.node.position=cc.pAdd(this.node.position,cc.pMult(this._speed,t)),(this.node.x<-480||this.node.x>480||this.node.y>320||this.node.y<-320)&&(this._solving||(this._solving=!0,this.node.removeFromParent(!0)))}}),cc._RFpop()},{}],"good-soap-script":[function(t,e,o){"use strict";cc._RFpush(e,"a20f1NCec1Cuq99eki/2+Al","good-soap-script"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.node.on("touch",this.onTouch,this)},onTouch:function(){cc.find("Canvas").emit("hit-good-soap")}}),cc._RFpop()},{}],"motion-steak-script":[function(t,e,o){"use strict";cc._RFpush(e,"7cdedM3hPVMIavBNvQa2BeM","motion-steak-script"),cc.Class({"extends":cc.Component,properties:{motion:cc.MotionStreak},onLoad:function(){cc.find("Canvas").on("touchmove",this.onTouchMove,this)},onTouchMove:function(t){this.node.position=this.node.parent.convertToNodeSpaceAR(t.getLocation())}}),cc._RFpop()},{}],"restart-script":[function(t,e,o){"use strict";cc._RFpush(e,"a54c4+dDZpCG5U08S9ZX9Jm","restart-script"),cc.Class({"extends":cc.Component,properties:{_sceneLoading:!1,scoreLabel:cc.Label},onLoad:function(){this.scoreLabel.string="得分："+window.score,this.node.on("touchstart",this.onTouchStart,this)},onTouchStart:function(){this._sceneLoading||(this._sceneLoading=!0,cc.director.loadScene("main-scene"))}}),cc._RFpop()},{}],"scene-mgr":[function(t,e,o){"use strict";cc._RFpush(e,"d63c6ufuftBoYRkvzbxbesz","scene-mgr"),cc.Class({"extends":cc.Component,properties:{_sceneLoading:!1,scoreLabel:cc.Label},onLoad:function(){this.node.on("hit-bad-soap",this.onHitBadSoap,this)},onHitBadSoap:function(){this._sceneLoading||(this._sceneLoading=!0,window.score=this.scoreLabel.string,cc.director.loadScene("game-over-scene"))}}),cc._RFpop()},{}],"score-script":[function(t,e,o){"use strict";cc._RFpush(e,"c49bd+C5QtBi7iQednS7i1R","score-script"),cc.Class({"extends":cc.Component,properties:{label:cc.Label,_num:0},onLoad:function(){this.label.string=this._num,cc.find("Canvas").on("hit-good-soap",this.onHitGoodSoap,this)},onHitGoodSoap:function(){this._num+=10,this.label.string=this._num}}),cc._RFpop()},{}],"throw-item-generate":[function(t,e,o){"use strict";cc._RFpush(e,"30cf7y0cLpDzYCHahB1cQB4","throw-item-generate"),cc.Class({"extends":cc.Component,properties:{itemPrefabArray:[cc.Prefab],speed:400,g:-120,deltaNum:.2,currentNum:1,delay:3,spriteWait:cc.SpriteFrame,spriteExec:cc.SpriteFrame},throwAnim:function(){this.getComponent(cc.Sprite).spriteFrame=this.spriteExec,this.scheduleOnce(function(){this.getComponent(cc.Sprite).spriteFrame=this.spriteWait}.bind(this),.3)},onLoad:function(){this.generate(),this.schedule(this.generate,this.delay)},generate:function(){this.throwAnim(),this.currentNum+=this.deltaNum;for(var t=Math.floor(this.currentNum),e=0;e<t;e++){var o=Math.random()>.5?0:1,i=cc.instantiate(this.itemPrefabArray[o]),n=cc.pNormalize(cc.v2(.35*cc.randomMinus1To1(),1));i.parent=this.node.parent,i.position=this.node.position,i.getComponent("throw-item-script").init(cc.pMult(n,this.speed),this.g),i.zIndex=this.node.zIndex-1}}}),cc._RFpop()},{}],"throw-item-script":[function(t,e,o){"use strict";cc._RFpush(e,"a9d05Cao7tCR7vu6V2nvNnl","throw-item-script"),cc.Class({"extends":cc.Component,properties:{_g:-10,_speed:null,_points:null,breakPrefab:cc.Prefab,_solving:!1},init:function(t,e){this._g=e,this._speed=t,this._points=this.getComponent(cc.PolygonCollider).points,cc.find("Canvas").on("touchmove",this.onTouchMove,this),cc.find("Canvas").on("touchstart",this.onTouchMove,this)},onTouchMove:function(t){this._solving||this.checkTouch(t.getLocation())&&(this._solving=!0,this.node.emit("touch"),this["break"](),this.node.removeFromParent(!0))},"break":function(){var t=.5*Math.random(),e=cc.instantiate(this.breakPrefab);e.getComponent("break-item-script").init(this,t);var o=cc.instantiate(this.breakPrefab);o.getComponent("break-item-script").init(this,t+.5)},checkTouch:function(t){var e=this.node,o=e.convertToNodeSpaceAR(t),i=void 0,n=void 0,s=!1,c=this._points.length,r=o.x,a=o.y,p=this._points;for(i=0,n=c-1;i<c;n=i++)p[i].y>a!=p[n].y>a&&r<(p[n].x-p[i].x)*(a-p[i].y)/(p[n].y-p[i].y)+p[i].x&&(s=!s);return s},update:function(t){this._speed=cc.pAdd(this._speed,cc.v2(0,this._g*t)),this.node.position=cc.pAdd(this.node.position,cc.pMult(this._speed,t)),(this.node.x<-480||this.node.x>480||this.node.y>320||this.node.y<-320)&&(this._solving||(this._solving=!0,this.node.removeFromParent(!0)))}}),cc._RFpop()},{}]},{},["bad-soap-script","break-item-script","good-soap-script","motion-steak-script","restart-script","scene-mgr","score-script","throw-item-generate","throw-item-script"]);